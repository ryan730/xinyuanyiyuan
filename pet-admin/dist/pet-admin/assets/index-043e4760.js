import{d as C,q as s,u as N,H as x,A as z,r as c,J as L,c as d,K as R,m as r,t as k,l as B,h as a,w as D,Q as T,o as _,z as P}from"./index-79f9e569.js";import{L as U}from"./index-d71be140.js";const V={class:"user-page w-full flex h-full"},q={class:"user-table w-[calc(100%-15rem)] ml-5"},A={class:"p-2 bg-white"},E={class:"table-header flex"},F={class:"table-header-title w-40 text-left"},H={name:"systemUser"},Q=C({...H,setup(I){s();const m=s(),g=s([]),n=N(),h=x(),e=z({name:"",account:"",deptId:1,pageNum:1,pageSize:20,total:0,loading:!0});s([]);const p=s([]),u=async()=>{if(!n.params.id){alert("缺少产品id！");return}e.loading=!0;const t=await U.testList({page:e.pageNum,pid:n.params.id});console.log("ListService-----",n,e.pageNum,t);const{data:l,count:o,cur_page:i}=t;p.value=l,e.total=o,e.pageNum=Number(i),e.pageSize=e.pageSize||20,e.loading=!1},f=t=>{g.value=t},v=t=>!0,w=(t,l,o)=>{console.log("点击了行",t,l,o),h.push(`/system/topicList/${t.id}`)},b=t=>{e.pageNum=t.page,u()};return u(),(t,l)=>{const o=c("el-table-column"),i=c("el-table"),S=c("pagination"),y=L("loading");return _(),d("div",V,[R((_(),d("div",q,[r("div",A,[r("div",E,[r("div",F,k(B(P)("testList")),1)]),a(i,{class:T("hover-row"),data:p.value,ref_key:"multipleTableRef",ref:m,border:"",onSelectionChange:f,onRowClick:w},{default:D(()=>[a(o,{type:"selection",width:"60",selectable:v}),a(o,{width:"80","show-overflow-tooltip":"",label:"测评id",prop:"id"}),a(o,{"show-overflow-tooltip":"",label:"测评标题",prop:"title"}),a(o,{"show-overflow-tooltip":"",label:"⼩标题",prop:"sub_title"}),a(o,{"show-overflow-tooltip":"",label:"题图",prop:"type"}),a(o,{"class-name":"colum-elm","show-overflow-tooltip":"",label:"时间",prop:"created_at"})]),_:1},8,["data"]),a(S,{total:e.total,page:e.pageNum,size:e.pageSize,onPagination:b},null,8,["total","page","size"])])])),[[y,e.loading]])])}}});export{Q as default};
